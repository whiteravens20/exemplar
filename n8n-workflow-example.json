{
  "name": "Discord AI Assistant Workflow (Exemplar Bot)",
  "nodes": [
    {
      "parameters": {
        "path": "/discord",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook_trigger",
      "name": "Discord Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 400],
      "notes": "Webhook endpoint for Discord bot DM messages"
    },
    {
      "parameters": {
        "functionCode": "// Extract payload from Discord bot\nconst payload = $input.first().json;\n\nreturn {\n  userId: payload.userId,\n  userName: payload.userName,\n  message: payload.message,\n  serverId: payload.serverId,\n  mode: payload.mode || 'chat',\n  timestamp: payload.timestamp,\n  platform: payload.platform\n};"
      },
      "id": "extract_payload",
      "name": "Extract Payload",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [450, 400],
      "notes": "Parse incoming Discord message data"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.mode }}",
              "operation": "equals",
              "value2": "code"
            }
          ]
        }
      },
      "id": "check_mode",
      "name": "Check Mode",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [650, 400],
      "notes": "Route to different LLMs based on mode (chat vs code)"
    },
    {
      "parameters": {
        "functionCode": "// Coding Assistant with specialized LLM\n// Use GPT-4, Claude, or coding-specific model\n\nconst message = $json.message;\nconst userName = $json.userName;\nconst userId = $json.userId;\n\n// REPLACE THIS WITH YOUR CODING LLM INTEGRATION\n// Example: OpenAI with system prompt for coding\n\nconst response = `ðŸ”§ **Tryb kodowania aktywny**\\n\\nTwoje zapytanie: \"${message}\"\\n\\n\\`\\`\\`javascript\\n// PrzykÅ‚adowa odpowiedÅº kodu\\nfunction example() {\\n  return 'Tutaj powinna byÄ‡ odpowiedÅº od LLM specjalizujÄ…cego siÄ™ w kodowaniu';\\n}\\n\\`\\`\\`\\n\\nUÅ¼yj OpenAI, Anthropic Claude lub innego LLM z odpowiednim system prompt dla kodowania.`;\n\nreturn {\n  response: response,\n  userId: userId,\n  userName: userName,\n  mode: 'code',\n  timestamp: new Date().toISOString()\n};"
      },
      "id": "code_llm",
      "name": "Coding LLM",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [850, 300],
      "notes": "LLM optimized for code/programming help"
    },
    {
      "parameters": {
        "functionCode": "// Chat Assistant with general LLM\n// Use GPT-3.5, GPT-4, Claude, etc.\n\nconst message = $json.message;\nconst userName = $json.userName;\nconst userId = $json.userId;\n\n// REPLACE THIS WITH YOUR CHAT LLM INTEGRATION\n// Example: OpenAI Chat Completion API\n\nlet response = '';\n\nif (message.toLowerCase().includes('help')) {\n  response = `CzeÅ›Ä‡ ${userName}! ðŸ‘‹\\n\\nJestem botem AI dziaÅ‚ajÄ…cym tylko w wiadomoÅ›ciach prywatnych.\\n\\n**Jak mogÄ™ pomÃ³c:**\\nâ€¢ Odpowiem na Twoje pytania\\nâ€¢ UdzielÄ™ informacji\\nâ€¢ PomogÄ™ z rÃ³Å¼nymi zadaniami\\n\\n**Tryb kodowania:**\\nUÅ¼yj \\`!code\\` przed wiadomoÅ›ciÄ…, aby przeÅ‚Ä…czyÄ‡ na pomoc programistycznÄ….\\nPrzykÅ‚ad: \\`!code napisz funkcjÄ™ do sortowania\\``;\n} else if (message.toLowerCase().includes('hello') || message.toLowerCase().includes('czeÅ›Ä‡')) {\n  response = `CzeÅ›Ä‡ ${userName}! MiÅ‚o CiÄ™ poznaÄ‡. W czym mogÄ™ pomÃ³c?`;\n} else {\n  // Tutaj powinna byÄ‡ integracja z OpenAI/Anthropic/innym LLM\n  response = `OtrzymaÅ‚em TwojÄ… wiadomoÅ›Ä‡: \"${message}\"\\n\\nZastÄ…p ten kod integracjÄ… z prawdziwym LLM (OpenAI, Anthropic Claude, itp.)`;\n}\n\nreturn {\n  response: response,\n  userId: userId,\n  userName: userName,\n  mode: 'chat',\n  timestamp: new Date().toISOString()\n};"
      },
      "id": "chat_llm",
      "name": "Chat LLM",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [850, 500],
      "notes": "General conversational LLM"
    },
    {
      "parameters": {
        "options": {}
      },
      "id": "respond_webhook",
      "name": "Send Response to Discord",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [1050, 400],
      "notes": "Return response to Discord bot"
    }
  ],
  "connections": {
    "webhook_trigger": {
      "main": [
        [
          {
            "node": "extract_payload",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "extract_payload": {
      "main": [
        [
          {
            "node": "check_mode",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "check_mode": {
      "main": [
        [
          {
            "node": "code_llm",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "chat_llm",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "code_llm": {
      "main": [
        [
          {
            "node": "respond_webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "chat_llm": {
      "main": [
        [
          {
            "node": "respond_webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "meta": {
    "description": "PrzykÅ‚adowy workflow dla bota Discord Exemplar.\n\nFunkcjonalnoÅ›ci:\n- Bot dziaÅ‚a tylko w DM (wiadomoÅ›ciach prywatnych)\n- Dwa tryby: 'chat' (domyÅ›lny) i 'code' (aktywowany przez !code)\n- Routing do rÃ³Å¼nych LLM w zaleÅ¼noÅ›ci od trybu\n- Automatyczna moderacja (komendy /kick, /ban, /mute, /warn zarezerwowane dla automatyki)\n\nPayload structure:\n{\n  userId: string,\n  userName: string,\n  message: string,\n  serverId: string,\n  mode: 'chat' | 'code',\n  timestamp: ISO string,\n  platform: 'discord'\n}\n\nZastÄ…p node'y 'Coding LLM' i 'Chat LLM' prawdziwymi integracjami z:\n- OpenAI (GPT-3.5, GPT-4)\n- Anthropic (Claude)\n- Lub innym LLM"
  }
}
